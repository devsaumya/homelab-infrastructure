all:
  vars:
    ansible_user: homelab
    ansible_python_interpreter: /usr/bin/python3

    # IMPORTANT: use ed25519 (or rsa if you really use rsa)
    ansible_ssh_private_key_file: ~/.ssh/id_ed25519

    timezone: UTC
    ntp_servers:
      - 0.pool.ntp.org
      - 1.pool.ntp.org

  children:
    k3s:
      hosts:
        k3s-master:
          ansible_host: 10.0.1.108
          ansible_become: true
          k3s_role: server
          k3s_token: "{{ vault_k3s_token }}"

        security-ops:
          ansible_host: 10.0.1.109
          ansible_become: true
          docker_compose_version: "2.24.0"

      vars:
        # Align with what is ACTUALLY installed in your cluster
        k3s_version: v1.34.3+k3s1

        k3s_disable_components:
          - traefik
          - servicelb

    nas:
      hosts:
        synology-nas:
          ansible_host: 10.0.1.50
          ansible_user: admin
          ansible_become: false
          ansible_connection: httpapi
          ansible_httpapi_use_ssl: true
          ansible_httpapi_validate_certs: false
          ansible_httpapi_port: 5001